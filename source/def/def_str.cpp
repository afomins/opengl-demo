/* ------------------------------------------------------------------------------ */
/*    prg  : ogl                                                                  */
/*    path : .\source\def\def_str.cpp                                             */
/*    dev  : Alexander 'manny' Fomin                                              */
/*    date : 20.10.2004                                                           */   
/* ------------------------------------------------------------------------------ */

/* ------------------------------------------------------------------------------ */

#include "def_main.h"

/* ------------------------------------------------------------------------------ */

t_char* crt_str( t_long  prefix,
                 t_char* postfix )
{
  t_char  buf[STR_MAX_LEN];
  t_char* str;
  t_long  len;

  /* ............................................................................ */

  ltoa( prefix, buf, 10 );

  /* ............................................................................ */

  len = strlen( postfix ) + strlen( buf ) + 1;
  str = ( t_char* )malloc( len );

  /* ............................................................................ */

  strcpy( str, buf );
  strcat( str, postfix );

  /* ............................................................................ */

  return str;
}

/* ------------------------------------------------------------------------------ */

t_char* crt_str( t_char* prefix,
                 t_long  postfix )
{
  t_char  buf[STR_MAX_LEN];
  t_char* str;
  t_long  len;

  /* ............................................................................ */

  ltoa( postfix, buf, 10 );

  /* ............................................................................ */

  len = strlen( prefix ) + strlen( buf ) + 1;
  str = ( t_char* )malloc( len );

  /* ............................................................................ */

  strcpy( str, prefix );
  strcat( str, buf );

  /* ............................................................................ */

  return str;
}

/* ------------------------------------------------------------------------------ */

t_char* crt_str( t_char*  prefix,
                 t_double postfix,
                 t_long   digits)
{
  t_char  buf[STR_MAX_LEN];
  t_char* str;
  t_long  len;

  /* ............................................................................ */

  gcvt( postfix, digits, buf );

  /* ............................................................................ */

  len = strlen( prefix ) + strlen( buf ) + 1;
  str = ( t_char* )malloc( len );

  /* ............................................................................ */

  strcpy( str, prefix );
  strcat( str, buf );

  /* ............................................................................ */

  return str;
}

/* ------------------------------------------------------------------------------ */

t_char* crt_str( t_double prefix,
                 t_long   digits,
                 t_char*  postfix)
{
  t_char  buf[STR_MAX_LEN];
  t_char* str;
  t_long  len;

  /* ............................................................................ */

  gcvt( prefix, digits, buf );

  /* ............................................................................ */

  len = strlen( postfix ) + strlen( buf ) + 1;
  str = ( t_char* )malloc( len );

  /* ............................................................................ */

  strcpy( str, buf );
  strcat( str, postfix );

  /* ............................................................................ */

  return str;
}

/* ------------------------------------------------------------------------------ */

t_char* crt_str( t_char* prefix,
                 t_char* postfix )
{
  t_long  len;
  t_char* str;

  /* ............................................................................ */
  
  len = strlen( prefix ) + strlen( postfix ) + 1;
  str = ( t_char* )malloc( len );

  /* ............................................................................ */

  strcpy( str, prefix );
  strcat( str, postfix );

  /* ............................................................................ */

  return str;
}

/* ------------------------------------------------------------------------------ */

t_char* crt_str( t_long prefix )
{
  t_char  buf[STR_MAX_LEN];
  t_char* str;
  t_long  len;

  /* ............................................................................ */

  ltoa( prefix, buf, 10 );

  /* ............................................................................ */

  len = strlen( buf ) + 1;
  str = ( t_char* )malloc( len );

  /* ............................................................................ */

  strcpy( str, buf );

  /* ............................................................................ */

  return str;
}

/* ------------------------------------------------------------------------------ */

t_char* crt_str( t_double prefix,
                 t_long   digits)
{
  t_char  buf[STR_MAX_LEN];
  t_char* str;
  t_long  len;

  /* ............................................................................ */

  gcvt( prefix, digits, buf );

  /* ............................................................................ */

  len = strlen( buf ) + 1;
  str = ( t_char* )malloc( len );

  /* ............................................................................ */

  strcpy( str, buf );

  /* ............................................................................ */

  return str;
}