/* ------------------------------------------------------------------------------ */
/*    prg  : ogl                                                                  */
/*    path : .\source\scene\script\scene_script.h                                 */
/*    dev  : Alexander 'manny' Fomin                                              */
/*    date : 24.10.2004                                                           */   
/* ------------------------------------------------------------------------------ */

/* ------------------------------------------------------------------------------ */

#include "scene\scene_cube.h"

/* ------------------------------------------------------------------------------ */

#ifndef __SCENE_SCRIPT_
#define __SCENE_SCRIPT_

  /* ............................................................................ */
  /*   c_scene_script                                                             */

  class c_scene_script
  {
    protected :

      /* ........................................................................ */

      t_char* name;
      t_bool  process_flag;

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      t_bool get_process_flag( );
  };

  /* ............................................................................ */
  /*   c_scene_script_00                                                          */

  class c_scene_script_00 : public c_scene_script
  {
    private :

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      void begin( );

      void process( );

      /* ........................................................................ */

      c_scene_script_00( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_01                                                          */

  class c_scene_script_01 : public c_scene_script
  {
    private :

      t_byte cube_id;

      /* ........................................................................ */

      s_coord3d old_cube_center;
      s_coord3d new_cube_center;

      /* ........................................................................ */

      t_long t_script_begin;
      t_long t_point_appear_offset[CUBE_POINT_COUNT];
      t_long t_point_appear_max_offset;
      t_long t_point_appear;

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      s_coord3d get_old_cube_center( );
      s_coord3d get_new_cube_center( );

      /* ........................................................................ */

      t_byte get_cube_id( );

      /* ........................................................................ */

      void begin( );

      void process( );

      /* ........................................................................ */

      c_scene_script_01( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_02                                                          */

  class c_scene_script_02 : public c_scene_script
  {
    private :

      t_byte cube_id;

      /* ........................................................................ */

      t_long t_script_begin;
      t_long t_line_appear_offset[CUBE_LINE_COUNT];
      t_long t_line_appear;

      /* ........................................................................ */

      t_double fov_end;
      t_double fov_speed;
      t_double fov_accel;

      /* ........................................................................ */

      t_long t_vect_change;

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      void begin( );

      void process( );

      /* ........................................................................ */

      c_scene_script_02( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_03                                                          */

  class c_scene_script_03 : public c_scene_script
  {
    private :

      t_byte cube_id;

      /* ........................................................................ */

      t_long t_script_begin;
      t_long t_move;
      t_long t_point_fade;

      /* ........................................................................ */

      s_coord3d move_vect;
      s_coord3d move_from;
      s_coord3d move_to;

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      void begin( );

      void process( );

      /* ........................................................................ */

      c_scene_script_03( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_04                                                          */

  typedef struct 
  {
    t_byte id;
    t_bool draw_flag;
   
  } s_scene_script_04_array;

  /* ............................................................................ */

  class c_scene_script_04 : public c_scene_script
  {
    private :

      t_long t_script_begin;
      t_long t_move;
      t_long t_appear_line;
      t_long t_fade_line;
      t_long t_appear_side;

      /* ........................................................................ */

      t_long    move_from;
      t_long    move_to;
      s_coord3d move_vect;

      /* ........................................................................ */

      t_long t_wait_start;
      t_long t_wait;

      /* ........................................................................ */

      t_double fov_end;
      t_double fov_speed;
      t_double fov_accel;

      /* ........................................................................ */

      t_bool move_flag;

      /* ........................................................................ */

      s_scene_script_04_array array[3][3][3];

      /* ........................................................................ */

      void build_cube_array( );

      t_long empty_count( );

      void end( );

    public :

      /* ........................................................................ */

      void begin( );

      void process( );

      /* ........................................................................ */

      c_scene_script_04( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_rotate_cubes                                                */

  class c_scene_script_rotate_cubes : public c_scene_script
  {
    private :

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      void process( );

      /* ........................................................................ */

      c_scene_script_rotate_cubes( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_rotate_sky                                                  */

  class c_scene_script_rotate_sky : public c_scene_script
  {
    private :

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      void process( );

      /* ........................................................................ */

      c_scene_script_rotate_sky( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_change_fov                                                  */

  class c_scene_script_change_fov : public c_scene_script
  {
    private :

      t_double fov_begin;
      t_double fov_end;

      /* ........................................................................ */

      t_double fov_speed;
      t_double fov_accel;
      t_double fov_cur;

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      void begin( t_double fov_end,
                  t_double fov_speed,
                  t_double fov_accel );

      void process( );

      /* ........................................................................ */

      c_scene_script_change_fov( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_change_rot_vect                                             */

  class c_scene_script_change_rot_vect : public c_scene_script
  {
    private :

      t_long timer_begin;
      t_long timer_delta;

      /* ........................................................................ */

      s_coord3d vect_begin;
      s_coord3d vect_delta;

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      void begin( t_double x,
                  t_double y,
                  t_double z,
                  t_long   timer_delta );

      void process( );

      /* ........................................................................ */

      c_scene_script_change_rot_vect( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_change_sky_rot_vect                                         */

  class c_scene_script_change_sky_rot_vect : public c_scene_script
  {
    private :

      t_long timer_begin;
      t_long timer_delta;

      /* ........................................................................ */

      s_coord3d vect_begin;
      s_coord3d vect_delta;

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      void begin( t_double x,
                  t_double y,
                  t_double z,
                  t_long   timer_delta );

      void process( );

      /* ........................................................................ */

      c_scene_script_change_sky_rot_vect( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_rnd_change_rot_vect                                         */

  class c_scene_script_rnd_change_rot_vect : public c_scene_script
  {
    private :

      t_long t_script_begin;
      t_long t_script_len;
      t_long t_vect_change;

      /* ........................................................................ */

      s_coord3d vect;

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      void begin( );

      void process( );

      /* ........................................................................ */

      c_scene_script_rnd_change_rot_vect( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_rnd_change_sky_rot_vect                                     */

  class c_scene_script_rnd_change_sky_rot_vect : public c_scene_script
  {
    private :

      t_long t_script_begin;
      t_long t_script_len;
      t_long t_vect_change;

      /* ........................................................................ */

      s_coord3d vect;

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      void begin( );

      void process( );

      /* ........................................................................ */

      c_scene_script_rnd_change_sky_rot_vect( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_change_cube_col                                             */

  class c_scene_script_change_cube_col : public c_scene_script
  {
    private :

      t_long t_script_len;
      t_long t_script_begin;

      s_col3f col_a_begin[2];
      s_col3f col_a_end[2];

      s_col3f col_d_begin[2];
      s_col3f col_d_end[2];

      s_col3f col_s_begin[2];
      s_col3f col_s_end[2];

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      void begin( );

      void process( );

      /* ........................................................................ */

      c_scene_script_change_cube_col( t_char* name );
  };

  /* ............................................................................ */
  /*   c_scene_script_05                                                          */

  class c_scene_script_05 : public c_scene_script
  {
    private :

      /* ........................................................................ */

      t_long t_script_begin;
      t_long t_move;

      /* ........................................................................ */

      s_coord3d move_vect[27];
      s_coord3d move_from[27];
      s_coord3d move_to[27];

      /* ........................................................................ */

      t_double radius_begin;
      t_double radius_delta;
      t_double smile_rad;

      /* ........................................................................ */

      void end( );

      /* ........................................................................ */

    public :

      /* ........................................................................ */

      void begin( );

      void process( );

      /* ........................................................................ */

      c_scene_script_05( t_char* name );
  };

  /* ............................................................................ */

#endif

/* ------------------------------------------------------------------------------ */
/*                                             (c) Alexander 'manny' Fomin, 2004  */
/* ------------------------------------------------------------------------------ */